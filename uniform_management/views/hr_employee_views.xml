<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Add uniform information to employee form -->
    <record id="view_employee_form_uniform_inherit" model="ir.ui.view">
        <field name="name">hr.employee.form.uniform.inherit</field>
        <field name="model">hr.employee</field>
        <field name="inherit_id" ref="hr.view_employee_form"/>
        <field name="arch" type="xml">
            <!-- Add a new notebook page for uniform information -->
            <notebook position="inside">
                <page string="Uniforms" name="uniforms">
                    <group>
                        <group string="Uniform Sizes">
                            <field name="tshirt_size_id"/>
                            <field name="pants_size_id"/>
                            <field name="shoe_size_id"/>
                            <field name="belt_size"/>
                        </group>
                        <group string="Uniform Information">
                            <field name="uniform_assignment_count"/>
                            <field name="uniform_active_count"/>
                            <field name="last_uniform_date"/>
                            <button name="action_view_uniforms" string="View Uniforms" type="object" 
                                    class="oe_stat_button" icon="fa-list"
                                    invisible="uniform_assignment_count == 0"/>
                            <button name="action_assign_uniform" string="Assign Uniform" type="object" 
                                    class="oe_highlight" icon="fa-plus"/>
                        </group>
                    </group>
                    
                    <!-- Show uniform assignments -->
                    <field name="uniform_assignment_ids" readonly="1">
                        <tree>
                            <field name="name"/>
                            <field name="item_id"/>
                            <field name="category"/>
                            <field name="size_id"/>
                            <field name="assignment_date"/>
                            <field name="return_date"/>
                            <field name="quantity"/>
                            <field name="returned_qty"/>
                            <field name="state" decoration-success="state == 'assigned'" 
                                   decoration-info="state == 'partially_returned'" 
                                   decoration-muted="state == 'returned'"/>
                        </tree>
                    </field>
                </page>
            </notebook>
        </field>
    </record>
    
    <!-- We'll remove the kanban view extension since the structure has likely changed in Odoo 17 -->
    <!-- If needed, we can later add a revised kanban extension after checking Odoo 17's structure -->
</odoo>
